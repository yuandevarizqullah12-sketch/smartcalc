<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SmartCalc — Simple, Private Calculator</title>


<!-- Short, focused meta description for better search snippets (50-160 chars) -->
<meta name="description" content="SmartCalc — fast, privacy-first calculator. All calculations run locally in your browser. Features: history, consent, keyboard support." />
<meta name="robots" content="index,follow" />
<meta name="google-site-verification" content="PIRrBQx3dxfzNhmHGWAtJoChkMKWcgHOa_703tZEsDg" />


<!-- Open Graph (basic) -->
<meta property="og:title" content="SmartCalc — Simple, Private Calculator" />
<meta property="og:description" content="Fast, privacy-first calculator — all calculations happen locally in the browser." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://smartcalc-one.vercel.app/" />


<link rel="canonical" href="https://smartcalc-one.vercel.app/" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="logo.png" />

<style>
  :root{
    --bg:#000;
    --panel:#080808;
    --card:#0f0f10;
    --muted:#9aa0a6;
    --accent:#4cd964;
    --danger:#ff5c5c;
    --button:#1e1e1e;
    --radius:28px;
    --gap:12px;
    --focus: 3px solid rgba(76,217,100,0.14);
  }

  @media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; }
  }

  html,body{
    height:100%;
    margin:0;
    background:var(--bg);
    color:#fff;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.2;
  }

  .wrap{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
  }

  /* Main layout: history (left) + calculator (right) */
  .app {
    width:100%;
    max-width:980px;
    display:grid;
    grid-template-columns: 1fr 380px;
    gap:24px;
    align-items:stretch; /* ensure children stretch to same height */
    min-height: calc(100vh - 40px); /* stretch nearly full viewport (accounting for padding) */
  }

  @media (max-width:820px){
    .app { grid-template-columns: 1fr; max-width:420px; min-height: auto; }
  }

  /* History panel - make full column flex so inner list can expand */
  .history-card{
    background:linear-gradient(180deg,#070707, #0b0b0b);
    border-radius:16px;
    padding:16px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.6);
    border:1px solid rgba(255,255,255,0.03);
    display:flex;
    flex-direction:column;
    gap:12px;
    min-height:0; /* allow flex child to constrain with overflow */
  }
  .history-head{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:8px;
  }
  .history-head h2{
    margin:0;
    font-size:18px;
    color:#fff;
  }
  .muted{ color:var(--muted); font-size:13px; }

  .history-list{
    margin-top:2px;
    display:flex;
    flex-direction:column;
    gap:12px;
    overflow:auto;
    padding-right:6px;
    /* allow to grow and fill vertical space */
    flex: 1 1 auto;
    min-height: 0;
  }
  .history-item{
    display:flex;
    justify-content:space-between;
    gap:12px;
    align-items:center;
    padding:10px;
    border-radius:10px;
    background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    color:#dcdcdc;
    font-size:15px;
  }
  .history-expression { opacity:0.9; }
  .history-result { color:var(--accent); font-weight:600; }

  .history-empty { color:var(--muted); font-size:14px; padding:18px 0; text-align:center; }

  .btn-clear {
    background:#1b1b1b;
    border:1px solid rgba(255,255,255,0.04);
    color:var(--muted);
    padding:8px 12px;
    border-radius:999px;
    cursor:pointer;
    font-size:13px;
  }
  .btn-clear:active { transform:translateY(1px); }

  /* Calculator card - use column layout so we can push footer down */
  .card{
    background:linear-gradient(180deg,var(--card), #0b0b0b);
    border-radius:18px;
    padding:14px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.6);
    border:1px solid rgba(255,255,255,0.03);
    display:flex;
    flex-direction:column;
    gap:12px;
    min-height:0;
  }

  /* Disclaimer box (must accept) */
  .disclaimer {
    display:flex;
    gap:12px;
    align-items:center;
    padding:10px;
    background:linear-gradient(90deg,#0a0a0a, #060606);
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.03);
    margin-bottom:0;
  }
  .consent {
    display:flex;
    gap:8px;
    align-items:center;
  }
  .consent .checkbox{
    width:22px;height:22px;border-radius:6px;border:2px solid rgba(255,255,255,0.08);
    display:inline-grid;place-items:center;cursor:pointer;background:transparent;
  }
  .checkbox.checked { background:var(--accent); border-color:var(--accent); }
  .checkbox svg { width:14px;height:14px;opacity:0; }
  .checkbox.checked svg { opacity:1; }

  .disclaimer small { color:var(--muted); font-size:13px; }

  /* Display */
  .display {
    background:transparent;
    padding:18px;
    min-height:86px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    border-radius:12px;
    margin-bottom:0;
  }
  .calc-expression {
    color:var(--muted);
    font-size:14px;
    text-align:right;
    word-break:break-all;
    min-height:18px;
  }
  .calc-result {
    text-align:right;
    font-size:34px;
    font-weight:600;
    color:#fff;
    margin-top:6px;
  }

  /* Buttons grid */
  .grid {
    display:grid;
    grid-template-columns: repeat(4, 1fr);
    gap:var(--gap);
    /* keep grid natural height */
  }

  button.calc-btn{
    background:var(--button);
    border:none;
    height:64px;
    border-radius:28px;
    font-size:18px;
    color:#ddd;
    cursor:pointer;
    outline:none;
    transition: transform 140ms cubic-bezier(.2,.9,.3,1), box-shadow 140ms;
    box-shadow: 0 6px 18px rgba(0,0,0,0.6);
    display:inline-flex;
    align-items:center;
    justify-content:center;
    padding:0 12px;
  }
  button.calc-btn:active{ transform: scale(.98); }
  button.calc-btn:focus{ box-shadow: var(--focus); }

  button.operator{ color:var(--accent); font-weight:600; background:#151515; }
  button.equal {
    background:var(--accent);
    color:#03110a;
    grid-column: span 1;
    font-weight:700;
  }
  @media(max-width:420px){
    button.equal { grid-column: span 2; }
  }
  .equal-wide { grid-column: span 2; height:64px; border-radius:28px; }

  .locked .card,
  .locked .history-card { opacity:0.6; pointer-events:none; filter:grayscale(0.02); }
  .locked .disclaimer { opacity:1; pointer-events:auto; }

  /* Footer small links & social buttons */
  .meta {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:12px;
    gap:8px;
    /* push to bottom of card when possible */
    margin-top:auto;
  }
  .socials { display:flex; gap:8px; align-items:center; }

  /* give consistent height so Privacy Policy matches other buttons */
  .social-btn{
    display:inline-flex;
    gap:8px;
    align-items:center;
    padding:0 12px;
    border-radius:999px;
    background:#111;
    color:#fff;
    font-size:14px;
    text-decoration:none;
    border:1px solid rgba(255,255,255,0.03);
    height:40px;              /* fixed height for all social buttons */
    line-height:1;
  }
  .social-btn svg{ height:16px; width:16px; opacity:0.9; }

  .social-btn span{ display:inline-block; vertical-align:middle; }

  .social-btn:focus, .btn-clear:focus { outline:var(--focus); }

  .visually-hidden{ position:absolute!important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }

  /* tiny responsiveness for narrow screens: make meta items wrap nicer */
  @media(max-width:480px){
    .meta { flex-direction:column; align-items:flex-start; gap:10px; }
    .socials { width:100%; justify-content:space-between; }
  }
</style>
</head>
<body>
<main class="wrap" id="main">
  
  <!-- Title Website -->
  <h1 style="margin-bottom:20px; font-size:24px; text-align:center;">
      SmartCalc — Simple, Private Calculator
  </h1>

  <div class="app" id="app">
    
    <!-- LEFT: History / description -->
    <aside class="history-card" aria-labelledby="history-title">
      <div class="history-head">
        <div>
          <h2 id="history-title">Calculation History</h2>
          <div class="muted">Your recent calculations are stored locally (in your browser).</div>
        </div>
        <div>
          <button class="btn-clear" id="clearHistory" aria-label="Clear history">Clear</button>
        </div>
      </div>

      <div class="history-list" id="historyList" aria-live="polite" aria-atomic="true">
        <!-- Filled by JS -->
      </div>

      <div style="margin-top:6px;">
        <h3 style="margin:0 0 6px 0;font-size:15px;">About SmartCalc</h3>
        <p class="muted" style="margin:0;font-size:13px;line-height:1.45;">
          SmartCalc is designed to be quick, private, and accessible. All computations run locally in your browser — we do not send your
          expressions or results to any server. This page intentionally avoids external fonts and trackers to improve performance and privacy.
        </p>
      </div>
    </aside>

    <!-- RIGHT: Calculator -->
    <section class="card" aria-labelledby="calc-title" id="calculatorSection">
      <h2 id="calc-title" class="visually-hidden">Calculator</h2>

      <!-- Disclaimer / consent area -->
      <div class="disclaimer" role="group" aria-label="Disclaimer and consent">
        <div class="consent" id="consentBox" tabindex="0" aria-pressed="false">
          <div class="checkbox" id="consentCheckbox" role="checkbox" aria-checked="false" tabindex="0" aria-label="Agree to disclaimer">
            <!-- check SVG -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M20 6L9 17l-5-5" stroke="#03110a" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </div>
          <div>
            <strong style="display:block;color:#fff;font-size:14px;">I agree to the disclaimer</strong>
            <small style="display:block;">Please read and accept the disclaimer before using the calculator.</small>
          </div>
        </div>

        <div style="margin-left:auto;text-align:right;">
          <small class="muted">Not a robot — just confirm to proceed</small>
        </div>
      </div>

      <!-- Display -->
      <div class="display" role="region" aria-label="Calculator display">
        <div id="expr" class="calc-expression" aria-live="polite"> </div>
        <div id="result" class="calc-result" aria-live="polite">0</div>
      </div>

      <!-- Buttons grid -->
      <div class="grid" id="pad" role="application" aria-label="Calculator keypad">
        <!-- row 1 -->
        <button class="calc-btn clear" data-action="clear" aria-label="Clear">C</button>
        <button class="calc-btn" data-action="paren" data-value="(" aria-label="Left parenthesis">(</button>
        <button class="calc-btn" data-action="paren" data-value=")" aria-label="Right parenthesis">)</button>
        <button class="calc-btn operator" data-value="/" aria-label="Divide">÷</button>

        <!-- row 2 -->
        <button class="calc-btn" data-value="7" aria-label="Seven">7</button>
        <button class="calc-btn" data-value="8" aria-label="Eight">8</button>
        <button class="calc-btn" data-value="9" aria-label="Nine">9</button>
        <button class="calc-btn operator" data-value="*" aria-label="Multiply">×</button>

        <!-- row 3 -->
        <button class="calc-btn" data-value="4" aria-label="Four">4</button>
        <button class="calc-btn" data-value="5" aria-label="Five">5</button>
        <button class="calc-btn" data-value="6" aria-label="Six">6</button>
        <button class="calc-btn operator" data-value="-" aria-label="Minus">−</button>

        <!-- row 4 -->
        <button class="calc-btn" data-value="1" aria-label="One">1</button>
        <button class="calc-btn" data-value="2" aria-label="Two">2</button>
        <button class="calc-btn" data-value="3" aria-label="Three">3</button>
        <button class="calc-btn operator" data-value="+" aria-label="Plus">+</button>

        <!-- row 5 -->
        <button class="calc-btn" data-value="0" aria-label="Zero">0</button>
        <button class="calc-btn" data-value="." aria-label="Decimal point">.</button>
        <button class="calc-btn equal equal-wide" data-action="equals" aria-label="Equals">=</button>
        <button class="calc-btn" data-action="percent" aria-label="Percent">%</button>
      </div>

      <!-- small meta area (pushed to bottom by margin-top:auto on .meta) -->
      <div class="meta" style="margin-top:12px">
        <div class="socials" role="navigation" aria-label="Contact links">
          <!-- GitHub button: replace # with your GitHub URL or username -->
          <a class="social-btn" id="githubBtn" href="https://github.com/yuandevarizqullah12-sketch/" aria-label="GitHub Profile" title="GitHub – yuandevarizqullah12-sketch">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 .5C5.7.5.9 5.3.9 11.6c0 4.7 3.1 8.7 7.4 10.1.5.1.7-.2.7-.5v-1.9c-3 0-3.7-1.3-3.9-2.5-.1-.3-.6-1.1-1-1.3-.3-.2-.8-.7 0-.7.8 0 1.4.7 1.6 1 .9 1.6 2.3 1.1 2.9.8.1-.6.3-1.1.6-1.4-2.6-.3-5.4-1.3-5.4-5.9 0-1.3.5-2.4 1.2-3.3-.1-.3-.5-1.6.1-3.2 0 0 1-.3 3.4 1.2 1-.3 2-.5 3-.5 1 0 2 .2 3 .5 2.3-1.5 3.4-1.2 3.4-1.2.6 1.6.2 2.9.1 3.2.8.9 1.2 2 1.2 3.3 0 4.6-2.8 5.6-5.4 5.9.4.3.8.9.8 1.9v2.9c0 .3.2.6.7.5 4.3-1.4 7.4-5.4 7.4-10.1C23.1 5.3 18.3.5 12 .5z"/>
            </svg>
            <span id="githubLabel">GitHub</span>
          </a>

          <!-- Gmail button: replace mailto:webdevit2@gmail.com -->
          <a class="social-btn" id="gmailBtn" href="mailto:webdevit2@gmail.com" aria-label="Send email to webdevit2@gmail.com">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 13.065 2 6.75v10.5A2.75 2.75 0 0 0 4.75 20h14.5A2.75 2.75 0 0 0 22 17.25V6.75L12 13.065zM12 11L22 4H2l10 7z"/>
            </svg>
            <span id="gmailLabel">Email</span>
          </a>

          <!-- Privacy Policy button styled same as socials -->
          <a class="social-btn" href="privacy_policy.html" aria-label="Privacy Policy">Privacy Policy</a>
        </div>

        <div class="muted" style="font-size:12px;">Built with privacy & speed in mind</div>
      </div>
    </section>
  </div>
</main>

<script>
(function(){
  'use strict';

  const app = document.getElementById('app');
  const exprEl = document.getElementById('expr');
  const resultEl = document.getElementById('result');
  const pad = document.getElementById('pad');
  const historyList = document.getElementById('historyList');
  const clearHistoryBtn = document.getElementById('clearHistory');

  const consentBox = document.getElementById('consentBox');
  const consentCheckbox = document.getElementById('consentCheckbox');

  let expression = '';
  let history = [];
  const STORAGE_KEY = 'smartcalc_history_v1';
  const CONSENT_KEY = 'smartcalc_consent_v1';

  function announce(text){
    console.log('announce:', text);
  }

  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    if (raw) history = JSON.parse(raw);
  } catch(e){ history = []; }

  try {
    const consent = localStorage.getItem(CONSENT_KEY);
    if (consent === 'true') setConsent(true);
  } catch(e){}

  function renderHistory(){
    historyList.innerHTML = '';
    if (!history.length){
      const empty = document.createElement('div');
      empty.className = 'history-empty';
      empty.textContent = 'No history yet. Your calculations will appear here.';
      historyList.appendChild(empty);
      return;
    }
    history.slice().reverse().forEach(item => {
      const el = document.createElement('div');
      el.className = 'history-item';
      const left = document.createElement('div');
      left.className = 'history-expression';
      left.textContent = item.expr;
      const right = document.createElement('div');
      right.className = 'history-result';
      right.textContent = item.result;
      el.appendChild(left);
      el.appendChild(right);
      historyList.appendChild(el);
    });
  }

  renderHistory();

  function saveHistory(){
    try {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(history.slice(-100)));
    } catch(e){}
    renderHistory();
  }

  clearHistoryBtn.addEventListener('click', () => {
    history = [];
    saveHistory();
    announce('History cleared');
    navigator.vibrate?.(20);
  });

  consentBox.addEventListener('click', toggleConsent);
  consentBox.addEventListener('keydown', (ev) => {
    if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); toggleConsent(); }
  });
  consentCheckbox.addEventListener('keydown', (ev) => {
    if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); toggleConsent(); }
  });

  function toggleConsent(){
    const checked = consentCheckbox.classList.toggle('checked');
    consentCheckbox.setAttribute('aria-checked', checked ? 'true' : 'false');
    consentBox.setAttribute('aria-pressed', checked ? 'true' : 'false');
    setConsent(checked);
    navigator.vibrate?.(15);
  }

  function setConsent(val){
    if (val){
      app.classList.remove('locked');
      try{ localStorage.setItem(CONSENT_KEY, 'true'); } catch(e){}
    } else {
      app.classList.add('locked');
      try{ localStorage.setItem(CONSENT_KEY, 'false'); } catch(e){}
    }
  }

  if (!consentCheckbox.classList.contains('checked') && localStorage.getItem(CONSENT_KEY) !== 'true') {
    app.classList.add('locked');
  } else {
    if (localStorage.getItem(CONSENT_KEY) === 'true') {
      consentCheckbox.classList.add('checked');
      consentCheckbox.setAttribute('aria-checked','true');
      consentBox.setAttribute('aria-pressed','true');
    }
  }

  function sanitizeForEval(input){
    if (!/^[0-9+\-*/().%\s]+$/.test(input)) return null;
    input = input.replace(/(\d+(\.\d+)?)%/g, '($1/100)');
    return input;
  }

  function evaluateExpression(expr){
    const sanitized = sanitizeForEval(expr);
    if (sanitized === null) throw new Error('Invalid characters in expression');
    const fn = new Function('return ' + sanitized);
    return fn();
  }

  function updateDisplay(){
    exprEl.textContent = expression || '';
    if (expression === '') resultEl.textContent = '0';
  }

  function appendChar(ch){
    expression += ch;
    updateDisplay();
    navigator.vibrate?.(8);
  }

  function clearAll(){
    expression = '';
    updateDisplay();
    resultEl.textContent = '0';
    announce('Cleared');
  }

  function percentAction(){
    expression += '%';
    updateDisplay();
  }

  function doCalculate(){
    if (!expression) return;
    try {
      const val = evaluateExpression(expression);
      const displayVal = (typeof val === 'number' && !Number.isFinite(val)) ? 'Error' : String(val);
      resultEl.textContent = displayVal;
      history.push({ expr: expression, result: displayVal, at: Date.now() });
      saveHistory();
      announce('Result is ' + displayVal);
      expression = String(displayVal);
      updateDisplay();
      navigator.vibrate?.(30);
    } catch (err){
      resultEl.textContent = 'Error';
      announce('Error in expression');
      navigator.vibrate?.(50);
    }
  }

  pad.addEventListener('click', (ev) => {
    const btn = ev.target.closest('button');
    if (!btn) return;
    if (app.classList.contains('locked')) {
      announcementFlash('Please accept the disclaimer first');
      navigator.vibrate?.(10);
      return;
    }

    const action = btn.dataset.action;
    const value = btn.dataset.value;

    if (action === 'clear') { clearAll(); return; }
    if (action === 'equals') { doCalculate(); return; }
    if (action === 'percent') { percentAction(); return; }

    if (value) appendChar(value);
  });

  window.addEventListener('keydown', (ev) => {
    if (app.classList.contains('locked')){
      if (ev.key === 'Tab') return;
      if (ev.key === 'Enter') {
        const active = document.activeElement;
        if (consentBox.contains(active)) { toggleConsent(); ev.preventDefault(); }
      }
      return;
    }

    const key = ev.key;
    if (/^[0-9]$/.test(key)) { appendChar(key); ev.preventDefault(); return; }
    if (key === '.' ) { appendChar('.'); ev.preventDefault(); return; }
    if (key === '+' || key === '-' || key === '*' || key === '/') { appendChar(key); ev.preventDefault(); return; }
    if (key === 'Enter' || key === '=') { doCalculate(); ev.preventDefault(); return; }
    if (key === 'Backspace') { expression = expression.slice(0, -1); updateDisplay(); ev.preventDefault(); return; }
    if (key === '%') { appendChar('%'); ev.preventDefault(); return; }
    if (key === '(' || key === ')') { appendChar(key); ev.preventDefault(); return; }
  });

  function announcementFlash(msg){
    const prev = resultEl.textContent;
    resultEl.textContent = msg;
    setTimeout(()=> resultEl.textContent = prev, 900);
  }

  const githubBtn = document.getElementById('githubBtn');
  const githubLabel = document.getElementById('githubLabel');
  const gmailBtn = document.getElementById('gmailBtn');
  const gmailLabel = document.getElementById('gmailLabel');

  githubBtn.addEventListener('keydown', (e)=>{ if (e.key === 'Enter') githubBtn.click(); });
  gmailBtn.addEventListener('keydown', (e)=>{ if (e.key === 'Enter') gmailBtn.click(); });

  updateDisplay();
  window._smartcalc = { evaluateExpression, sanitizeForEval };
  announce('SmartCalc ready. Accept disclaimer to enable calculator.');
})();
</script>
</body>
</html>
